{"ast":null,"code":"import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _sortBy from \"lodash/sortBy\";\nimport _isFunction from \"lodash/isFunction\";\nimport _get from \"lodash/get\";\nimport _range from \"lodash/range\";\nimport _throttle from \"lodash/throttle\";\nimport _isNil from \"lodash/isNil\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport Surface from '../container/Surface';\nimport Layer from '../container/Layer';\nimport Tooltip from '../component/Tooltip';\nimport Legend from '../component/Legend';\nimport Curve from '../shape/Curve';\nimport Cross from '../shape/Cross';\nimport Sector from '../shape/Sector';\nimport Dot from '../shape/Dot';\nimport Rectangle from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType } from '../util/ReactUtils';\nimport CartesianAxis from '../cartesian/CartesianAxis';\nimport Brush from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, getValueByDataKey, isCategoricalAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { filterProps, adaptEventHandlers } from '../util/types';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\nvar generateCategoricalChart = function generateCategoricalChart(_ref) {\n  var _class, _temp;\n\n  var chartName = _ref.chartName,\n      GraphicalChild = _ref.GraphicalChild,\n      _ref$eventType = _ref.eventType,\n      eventType = _ref$eventType === void 0 ? 'axis' : _ref$eventType,\n      axisComponents = _ref.axisComponents,\n      legendContent = _ref.legendContent,\n      formatAxisMap = _ref.formatAxisMap,\n      defaultProps = _ref.defaultProps;\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    var _super = _createSuper(CategoricalChartWrapper); // todo join specific chart propTypes\n\n    /**\n     * Returns default, reset state for the categorical chart.\n     * @param {Object} props Props object to use when creating the default state\n     * @return {Object} Whole new state\n     */\n\n\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _super.call(this, _props);\n      _this.uniqueChartId = void 0;\n      _this.clipPathId = void 0;\n      _this.legendInstance = void 0;\n      _this.container = void 0;\n\n      _this.getAxisMapByAxes = function (props, _ref2) {\n        var axes = _ref2.axes,\n            graphicalItems = _ref2.graphicalItems,\n            axisType = _ref2.axisType,\n            axisIdKey = _ref2.axisIdKey,\n            stackGroups = _ref2.stackGroups,\n            dataStartIndex = _ref2.dataStartIndex,\n            dataEndIndex = _ref2.dataEndIndex;\n        var layout = props.layout,\n            children = props.children,\n            stackOffset = props.stackOffset;\n        var isCategorical = isCategoricalAxis(layout, axisType); // Eliminate duplicated axes\n\n        var axisMap = axes.reduce(function (result, child) {\n          var _child$props = child.props,\n              type = _child$props.type,\n              dataKey = _child$props.dataKey,\n              allowDataOverflow = _child$props.allowDataOverflow,\n              allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n              scale = _child$props.scale,\n              ticks = _child$props.ticks;\n          var axisId = child.props[axisIdKey];\n          var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n            graphicalItems: graphicalItems.filter(function (item) {\n              return item.props[axisIdKey] === axisId;\n            }),\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n          var len = displayedData.length;\n\n          if (!result[axisId]) {\n            var domain, duplicateDomain, categoricalDomain;\n\n            if (dataKey) {\n              // has dataKey in <Axis />\n              domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n              if (type === 'category' && isCategorical) {\n                // the field type is category data and this axis is catrgorical axis\n                var duplicate = hasDuplicate(domain);\n\n                if (allowDuplicatedCategory && duplicate) {\n                  duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n                  domain = _range(0, len);\n                } else if (!allowDuplicatedCategory) {\n                  // remove duplicated category\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                }\n              } else if (type === 'category') {\n                // the field type is category data and this axis is numerical axis\n                if (!allowDuplicatedCategory) {\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                } else {\n                  // eliminate undefined or null or empty string\n                  domain = domain.filter(function (entry) {\n                    return entry !== '' && !_isNil(entry);\n                  });\n                }\n              } else if (type === 'number') {\n                // the field type is numerical\n                var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n                  return item.props[axisIdKey] === axisId && !item.props.hide;\n                }), dataKey, axisType);\n\n                if (errorBarsDomain) {\n                  domain = errorBarsDomain;\n                }\n              }\n\n              if (isCategorical && (type === 'number' || scale !== 'auto')) {\n                categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n              }\n            } else if (isCategorical) {\n              // the axis is a categorical axis\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n              // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n              domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n            } else {\n              domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), type, true);\n            }\n\n            if (type === 'number') {\n              // To detect wether there is any reference lines whose props alwaysShow is true\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n              if (child.props.domain) {\n                domain = parseSpecifiedDomain(child.props.domain, domain, allowDataOverflow);\n              }\n            } else if (type === 'category' && child.props.domain) {\n              var axisDomain = child.props.domain;\n              var isDomainValidate = domain.every(function (entry) {\n                return axisDomain.indexOf(entry) >= 0;\n              });\n\n              if (isDomainValidate) {\n                domain = axisDomain;\n              }\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({}, child.props, {\n              axisType: axisType,\n              domain: domain,\n              categoricalDomain: categoricalDomain,\n              duplicateDomain: duplicateDomain,\n              originalDomain: child.props.domain,\n              isCategorical: isCategorical,\n              layout: layout\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      };\n\n      _this.getAxisMapByItems = function (props, _ref3) {\n        var graphicalItems = _ref3.graphicalItems,\n            Axis = _ref3.Axis,\n            axisType = _ref3.axisType,\n            axisIdKey = _ref3.axisIdKey,\n            stackGroups = _ref3.stackGroups,\n            dataStartIndex = _ref3.dataStartIndex,\n            dataEndIndex = _ref3.dataEndIndex;\n        var layout = props.layout,\n            children = props.children;\n        var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n          graphicalItems: graphicalItems,\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex\n        });\n        var len = displayedData.length;\n        var isCategorical = isCategoricalAxis(layout, axisType);\n        var index = -1; // The default type of x-axis is category axis,\n        // The default contents of x-axis is the serial numbers of data\n        // The default type of y-axis is number axis\n        // The default contents of y-axis is the domain of data\n\n        var axisMap = graphicalItems.reduce(function (result, child) {\n          var axisId = child.props[axisIdKey];\n\n          if (!result[axisId]) {\n            index++;\n            var domain;\n\n            if (isCategorical) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n              domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            } else {\n              domain = parseSpecifiedDomain(Axis.defaultProps.domain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), 'number'), Axis.defaultProps.allowDataOverflow);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({\n              axisType: axisType\n            }, Axis.defaultProps, {\n              hide: true,\n              orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n              domain: domain,\n              originalDomain: Axis.defaultProps.domain,\n              isCategorical: isCategorical,\n              layout: layout // specify scale when no Axis\n              // scale: isCategorical ? 'band' : 'linear',\n\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      };\n\n      _this.handleLegendBBoxUpdate = function (box) {\n        if (box && _this.legendInstance) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_this.updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }));\n        }\n      };\n\n      _this.handleReceiveSyncEvent = function (cId, chartId, data) {\n        var _this$props = _this.props,\n            syncId = _this$props.syncId,\n            layout = _this$props.layout;\n        var updateId = _this.state.updateId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          var dataStartIndex = data.dataStartIndex,\n              dataEndIndex = data.dataEndIndex;\n\n          if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n            _this.setState(_objectSpread({\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex,\n              updateId: updateId\n            })));\n          } else if (!_isNil(data.activeTooltipIndex)) {\n            var chartX = data.chartX,\n                chartY = data.chartY,\n                activeTooltipIndex = data.activeTooltipIndex;\n            var _this$state2 = _this.state,\n                offset = _this$state2.offset,\n                tooltipTicks = _this$state2.tooltipTicks;\n\n            if (!offset) {\n              return;\n            }\n\n            var viewBox = _objectSpread({}, offset, {\n              x: offset.left,\n              y: offset.top\n            }); // When a categotical chart is combined with another chart, the value of chartX\n            // and chartY may beyond the boundaries.\n\n\n            var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n            var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n            var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n\n            var activePayload = _this.getTooltipContent(activeTooltipIndex);\n\n            var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n              x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n              y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n            } : originCoordinate;\n\n            _this.setState(_objectSpread({}, data, {\n              activeLabel: activeLabel,\n              activeCoordinate: activeCoordinate,\n              activePayload: activePayload\n            }));\n          } else {\n            _this.setState(data);\n          }\n        }\n      };\n\n      _this.handleBrushChange = function (_ref4) {\n        var startIndex = _ref4.startIndex,\n            endIndex = _ref4.endIndex; // Only trigger changes if the extents of the brush have actually changed\n\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      };\n\n      _this.handleMouseEnter = function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var nextState = _objectSpread({}, mouse, {\n            isTooltipActive: true\n          });\n\n          _this.setState(nextState);\n\n          _this.triggerSyncEvent(nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(nextState, e);\n          }\n        }\n      };\n\n      _this.triggeredAfterMouseMove = function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread({}, mouse, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      };\n\n      _this.handleItemMouseEnter = function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      };\n\n      _this.handleItemMouseLeave = function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      };\n\n      _this.handleMouseMove = function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      };\n\n      _this.handleMouseLeave = function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n\n        _this.cancelThrottledTriggerAfterMouseMove();\n      };\n\n      _this.handleOuterEvent = function (e) {\n        var eventName = getReactEventByType(e);\n\n        var event = _get(_this.props, \"\".concat(eventName));\n\n        if (eventName && _isFunction(event)) {\n          var mouse;\n\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n\n          var handler = event;\n          handler(mouse, e);\n        }\n      };\n\n      _this.handleClick = function (e) {\n        var onClick = _this.props.onClick;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var nextState = _objectSpread({}, mouse, {\n            isTooltipActive: true\n          });\n\n          _this.setState(nextState);\n\n          _this.triggerSyncEvent(nextState);\n\n          if (_isFunction(onClick)) {\n            onClick(nextState, e);\n          }\n        }\n      };\n\n      _this.handleMouseDown = function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseDown(mouse, e);\n        }\n      };\n\n      _this.handleMouseUp = function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseUp(mouse, e);\n        }\n      };\n\n      _this.handleTouchMove = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchStart = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchEnd = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      };\n\n      _this.verticalCoordinatesGenerator = function (_ref5) {\n        var xAxis = _ref5.xAxis,\n            width = _ref5.width,\n            height = _ref5.height,\n            offset = _ref5.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, xAxis, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      };\n\n      _this.horizontalCoordinatesGenerator = function (_ref6) {\n        var yAxis = _ref6.yAxis,\n            width = _ref6.width,\n            height = _ref6.height,\n            offset = _ref6.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, yAxis, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      };\n\n      _this.axesTicksGenerator = function (axis) {\n        return getTicksOfAxis(axis, true);\n      };\n\n      _this.tooltipTicksGenerator = function (axisMap) {\n        var axis = getAnyElementOfObject(axisMap);\n        var tooltipTicks = getTicksOfAxis(axis, false, true);\n        return {\n          tooltipTicks: tooltipTicks,\n          orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n            return o.coordinate;\n          }),\n          tooltipAxis: axis,\n          tooltipAxisBandSize: getBandSizeOfAxis(axis)\n        };\n      };\n\n      _this.renderCursor = function (element) {\n        var _this$state3 = _this.state,\n            isTooltipActive = _this$state3.isTooltipActive,\n            activeCoordinate = _this$state3.activeCoordinate,\n            activePayload = _this$state3.activePayload,\n            offset = _this$state3.offset,\n            activeTooltipIndex = _this$state3.activeTooltipIndex;\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate) {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset, {}, restProps, {}, filterProps(element.props.cursor), {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return isValidElement(element.props.cursor) ? cloneElement(element.props.cursor, cursorProps) : createElement(cursorComp, cursorProps);\n      };\n\n      _this.renderPolarAxis = function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n\n        var axisOption = axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return cloneElement(element, _objectSpread({}, axisOption, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      };\n\n      _this.renderXAxis = function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderYAxis = function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderGrid = function (element) {\n        var _this$state4 = _this.state,\n            xAxisMap = _this$state4.xAxisMap,\n            yAxisMap = _this$state4.yAxisMap,\n            offset = _this$state4.offset;\n        var _this$props2 = _this.props,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, Number.isFinite);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      };\n\n      _this.renderPolarGrid = function (element) {\n        var _this$state5 = _this.state,\n            radiusAxisMap = _this$state5.radiusAxisMap,\n            angleAxisMap = _this$state5.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return cloneElement(element, {\n          polarAngles: getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid'\n        });\n      };\n\n      _this.renderLegend = function () {\n        var formatedGraphicalItems = _this.state.formatedGraphicalItems;\n        var _this$props3 = _this.props,\n            children = _this$props3.children,\n            width = _this$props3.width,\n            height = _this$props3.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formatedGraphicalItems: formatedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, [\"item\"]);\n\n        return cloneElement(item, _objectSpread({}, otherProps, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this.legendInstance = legend;\n          },\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      };\n\n      _this.renderTooltip = function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state6 = _this.state,\n            isTooltipActive = _this$state6.isTooltipActive,\n            activeCoordinate = _this$state6.activeCoordinate,\n            activePayload = _this$state6.activePayload,\n            activeLabel = _this$state6.activeLabel,\n            offset = _this$state6.offset;\n        return cloneElement(tooltipItem, {\n          viewBox: _objectSpread({}, offset, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      };\n\n      _this.renderBrush = function (element) {\n        var _this$props4 = _this.props,\n            margin = _this$props4.margin,\n            data = _this$props4.data;\n        var _this$state7 = _this.state,\n            offset = _this$state7.offset,\n            dataStartIndex = _this$state7.dataStartIndex,\n            dataEndIndex = _this$state7.dataEndIndex,\n            updateId = _this$state7.updateId; // TODO: update brush when children update\n\n        return cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      };\n\n      _this.renderReferenceElement = function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state8 = _this.state,\n            xAxisMap = _this$state8.xAxisMap,\n            yAxisMap = _this$state8.yAxisMap,\n            offset = _this$state8.offset;\n        var _element$props = element.props,\n            xAxisId = _element$props.xAxisId,\n            yAxisId = _element$props.yAxisId;\n        return cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      };\n\n      _this.renderActivePoints = function (_ref7) {\n        var item = _ref7.item,\n            activePoint = _ref7.activePoint,\n            basePoint = _ref7.basePoint,\n            childIndex = _ref7.childIndex,\n            isRange = _ref7.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            dataKey = _item$item$props.dataKey;\n\n        var dotProps = _objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot), {}, adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread({}, dotProps, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      };\n\n      _this.renderGraphicChild = function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var graphicalItem = cloneElement(element, item.props);\n        var _this$state9 = _this.state,\n            isTooltipActive = _this$state9.isTooltipActive,\n            tooltipAxis = _this$state9.tooltipAxis,\n            activeTooltipIndex = _this$state9.activeTooltipIndex,\n            activeLabel = _this$state9.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var _item$props = item.props,\n            points = _item$props.points,\n            isRange = _item$props.isRange,\n            baseLine = _item$props.baseLine;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            hide = _item$item$props2.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // number transform to string\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      };\n\n      _this.renderCustomized = function (element) {\n        return cloneElement(element, _objectSpread({}, _this.props, {}, _this.state));\n      };\n\n      var defaultState = CategoricalChartWrapper.createDefaultState(_props);\n      var _updateId = 0;\n      _this.state = _objectSpread({}, defaultState, {\n        updateId: 0\n      }, _this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: _props\n      }, defaultState, {\n        updateId: _updateId\n      })));\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      return _this;\n    }\n    /* eslint-disable  react/no-did-mount-set-state */\n\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n      } // eslint-disable-next-line camelcase\n\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        var _this2 = this;\n\n        var _this$props5 = this.props,\n            data = _this$props5.data,\n            children = _this$props5.children,\n            width = _this$props5.width,\n            height = _this$props5.height,\n            layout = _this$props5.layout,\n            stackOffset = _this$props5.stackOffset,\n            margin = _this$props5.margin;\n        var updateId = this.state.updateId;\n\n        if (nextProps.data !== data || nextProps.width !== width || nextProps.height !== height || nextProps.layout !== layout || nextProps.stackOffset !== stackOffset || !shallowEqual(nextProps.margin, margin)) {\n          var defaultState = CategoricalChartWrapper.createDefaultState(nextProps); // Fixes https://github.com/recharts/recharts/issues/2143\n\n          var keepFromPrevState = {\n            // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n            // any flickering\n            chartX: this.state.chartX,\n            chartY: this.state.chartY,\n            // The tooltip should stay active when it was active in the previous render. If this is not\n            // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n            isTooltipActive: this.state.isTooltipActive\n          };\n\n          var updatesToState = _objectSpread({}, this.getTooltipData(), {\n            // Update the current tooltip data (in case it changes without mouse interaction)\n            updateId: updateId + 1\n          });\n\n          var newState = _objectSpread({}, defaultState, {}, keepFromPrevState, {}, updatesToState);\n\n          this.setState(_objectSpread({}, newState, {}, this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n            props: nextProps\n          }, newState))));\n        } else if (!isChildrenEqual(nextProps.children, children)) {\n          // update configuration in chilren\n          var hasGlobalData = !_isNil(nextProps.data);\n          var newUpdateId = hasGlobalData ? updateId : updateId + 1;\n          this.setState(function (prevState) {\n            return _objectSpread({\n              updateId: newUpdateId\n            }, _this2.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n              props: nextProps\n            }, prevState, {\n              updateId: newUpdateId\n            })));\n          });\n        } // add syncId\n\n\n        if (_isNil(this.props.syncId) && !_isNil(nextProps.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(this.props.syncId) && _isNil(nextProps.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        this.cancelThrottledTriggerAfterMouseMove();\n      }\n    }, {\n      key: \"cancelThrottledTriggerAfterMouseMove\",\n      value: function cancelThrottledTriggerAfterMouseMove() {\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n      /**\n       * Get the configuration of all x-axis or y-axis\n       * @param  {Object} props          Latest props\n       * @param  {String} axisType       The type of axis\n       * @param  {Array}  graphicalItems The instances of item\n       * @param  {Object} stackGroups    The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n       * @return {Object}          Configuration\n       */\n\n    }, {\n      key: \"getAxisMap\",\n      value: function getAxisMap(props, _ref8) {\n        var _ref8$axisType = _ref8.axisType,\n            axisType = _ref8$axisType === void 0 ? 'xAxis' : _ref8$axisType,\n            AxisComp = _ref8.AxisComp,\n            graphicalItems = _ref8.graphicalItems,\n            stackGroups = _ref8.stackGroups,\n            dataStartIndex = _ref8.dataStartIndex,\n            dataEndIndex = _ref8.dataEndIndex;\n        var children = props.children;\n        var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n        var axes = findAllByType(children, AxisComp);\n        var axisMap = {};\n\n        if (axes && axes.length) {\n          axisMap = this.getAxisMapByAxes(props, {\n            axes: axes,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        } else if (graphicalItems && graphicalItems.length) {\n          axisMap = this.getAxisMapByItems(props, {\n            Axis: AxisComp,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        }\n\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of axis instance\n       * @param  {Object} props         Latest props\n       * @param {Array}  axes           The instance of axes\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}      Configuration\n       */\n\n    }, {\n      key: \"getActiveCoordinate\",\n      value: function getActiveCoordinate(tooltipTicks, activeIndex, rangeObj) {\n        var layout = this.props.layout;\n        var entry = tooltipTicks.find(function (tick) {\n          return tick && tick.index === activeIndex;\n        });\n\n        if (entry) {\n          if (layout === 'horizontal') {\n            return {\n              x: entry.coordinate,\n              y: rangeObj.y\n            };\n          }\n\n          if (layout === 'vertical') {\n            return {\n              x: rangeObj.x,\n              y: entry.coordinate\n            };\n          }\n\n          if (layout === 'centric') {\n            var _angle = entry.coordinate;\n            var _radius = rangeObj.radius;\n            return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle), {\n              angle: _angle,\n              radius: _radius\n            });\n          }\n\n          var radius = entry.coordinate;\n          var angle = rangeObj.angle;\n          return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle), {\n            angle: angle,\n            radius: radius\n          });\n        }\n\n        return originCoordinate;\n      }\n      /**\n       * Returns tooltip data based on a mouse position (as a parameter or in state)\n       * @param  {Object} rangeObj  { x, y } coordinates\n       * @return {Object}           Tooltip data data\n       */\n\n    }, {\n      key: \"getTooltipData\",\n      value: function getTooltipData(rangeObj) {\n        var rangeData = rangeObj || {\n          x: this.state.chartX,\n          y: this.state.chartY\n        };\n        var pos = this.calculateTooltipPos(rangeData);\n        var _this$state10 = this.state,\n            ticks = _this$state10.orderedTooltipTicks,\n            axis = _this$state10.tooltipAxis,\n            tooltipTicks = _this$state10.tooltipTicks;\n        var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n        if (activeIndex >= 0 && tooltipTicks) {\n          var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n          var activePayload = this.getTooltipContent(activeIndex, activeLabel);\n          var activeCoordinate = this.getActiveCoordinate(ticks, activeIndex, rangeData);\n          return {\n            activeTooltipIndex: activeIndex,\n            activeLabel: activeLabel,\n            activePayload: activePayload,\n            activeCoordinate: activeCoordinate\n          };\n        }\n\n        return null;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state11 = this.state,\n            xAxisMap = _this$state11.xAxisMap,\n            yAxisMap = _this$state11.yAxisMap;\n\n        if (eventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread({}, e, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var toolTipData = this.getTooltipData(rangeObj);\n\n        if (toolTipData) {\n          return _objectSpread({}, e, {}, toolTipData);\n        }\n\n        return null;\n      }\n      /**\n       * Get the content to be displayed in the tooltip\n       * @param  {Number} activeIndex    Active index of data\n       * @param  {String} activeLabel    Active label of data\n       * @return {Array}                 The content of tooltip\n       */\n\n    }, {\n      key: \"getTooltipContent\",\n      value: function getTooltipContent(activeIndex, activeLabel) {\n        var _this$state12 = this.state,\n            graphicalItems = _this$state12.graphicalItems,\n            tooltipAxis = _this$state12.tooltipAxis;\n        var displayedData = CategoricalChartWrapper.getDisplayedData(this.props, this.state);\n\n        if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n          return null;\n        } // get data by activeIndex when the axis don't allow duplicated category\n\n\n        return graphicalItems.reduce(function (result, child) {\n          var hide = child.props.hide;\n\n          if (hide) {\n            return result;\n          }\n\n          var _child$props2 = child.props,\n              dataKey = _child$props2.dataKey,\n              name = _child$props2.name,\n              unit = _child$props2.unit,\n              formatter = _child$props2.formatter,\n              data = _child$props2.data,\n              tooltipType = _child$props2.tooltipType;\n          var payload;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // graphic child has data props\n            payload = findEntryInArray(data || displayedData, tooltipAxis.dataKey, activeLabel);\n          } else {\n            payload = data && data[activeIndex] || displayedData[activeIndex];\n          }\n\n          if (!payload) {\n            return result;\n          }\n\n          return [].concat(_toConsumableArray(result), [_objectSpread({}, filterProps(child), {\n            dataKey: dataKey,\n            unit: unit,\n            formatter: formatter,\n            name: name || dataKey,\n            color: getMainColorOfGraphicItem(child),\n            value: getValueByDataKey(payload, dataKey),\n            type: tooltipType,\n            payload: payload\n          })]);\n        }, []);\n      }\n    }, {\n      key: \"getFormatItems\",\n      value: function getFormatItems(props, currentState) {\n        var _this3 = this;\n\n        var graphicalItems = currentState.graphicalItems,\n            stackGroups = currentState.stackGroups,\n            offset = currentState.offset,\n            updateId = currentState.updateId,\n            dataStartIndex = currentState.dataStartIndex,\n            dataEndIndex = currentState.dataEndIndex;\n        var barSize = props.barSize,\n            layout = props.layout,\n            barGap = props.barGap,\n            barCategoryGap = props.barCategoryGap,\n            globalMaxBarSize = props.maxBarSize;\n\n        var _CategoricalChartWrap = CategoricalChartWrapper.getAxisNameByLayout(layout),\n            numericAxisName = _CategoricalChartWrap.numericAxisName,\n            cateAxisName = _CategoricalChartWrap.cateAxisName;\n\n        var hasBar = CategoricalChartWrapper.hasBar(graphicalItems);\n        var sizeList = hasBar && getBarSizeList({\n          barSize: barSize,\n          stackGroups: stackGroups\n        });\n        var formatedItems = [];\n        var tooltipItem = findChildByType(props.children, Tooltip.displayName);\n        var isTooltipTriggerByClick = tooltipItem && tooltipItem.props.trigger === 'click';\n        graphicalItems.forEach(function (item, index) {\n          var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, item);\n          var _item$props2 = item.props,\n              dataKey = _item$props2.dataKey,\n              childMaxBarSize = _item$props2.maxBarSize;\n          var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n          var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n          var axisObj = axisComponents.reduce(function (result, entry) {\n            var _objectSpread4;\n\n            var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n            var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n            var axis = axisMap && axisMap[id];\n            return _objectSpread({}, result, (_objectSpread4 = {}, _defineProperty(_objectSpread4, entry.axisType, axis), _defineProperty(_objectSpread4, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread4));\n          }, {});\n          var cateAxis = axisObj[cateAxisName];\n          var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n          var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n          var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n          var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n          var barPosition = [];\n\n          if (itemIsBar) {\n            var barBandSize = getBandSizeOfAxis(cateAxis, cateTicks, true); // barbar\n\n            var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n            barPosition = getBarPosition({\n              barGap: barGap,\n              barCategoryGap: barCategoryGap,\n              bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n              sizeList: sizeList[cateAxisId],\n              maxBarSize: maxBarSize\n            });\n\n            if (barBandSize !== bandSize) {\n              barPosition = barPosition.map(function (pos) {\n                return _objectSpread({}, pos, {\n                  position: _objectSpread({}, pos.position, {\n                    offset: pos.position.offset - barBandSize / 2\n                  })\n                });\n              });\n            }\n          }\n\n          var componsedFn = item && item.type && item.type.getComposedData;\n\n          if (componsedFn) {\n            var _objectSpread5;\n\n            var itemEvents = isTooltipTriggerByClick ? {\n              onItemClick: combineEventHandlers(_this3.handleItemMouseEnter, null, item.props.onCLick)\n            } : {\n              onItemMouseLeave: combineEventHandlers(_this3.handleItemMouseLeave, null, item.props.onMouseLeave),\n              onItemMouseEnter: combineEventHandlers(_this3.handleItemMouseEnter, null, item.props.onMouseEnter)\n            };\n            formatedItems.push({\n              props: _objectSpread({}, componsedFn(_objectSpread({}, axisObj, {\n                displayedData: displayedData,\n                props: props,\n                dataKey: dataKey,\n                item: item,\n                bandSize: bandSize,\n                barPosition: barPosition,\n                offset: offset,\n                stackedData: stackedData,\n                layout: layout,\n                dataStartIndex: dataStartIndex,\n                dataEndIndex: dataEndIndex\n              }, itemEvents)), (_objectSpread5 = {\n                key: item.key || \"item-\".concat(index)\n              }, _defineProperty(_objectSpread5, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread5, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread5, \"animationId\", updateId), _objectSpread5)),\n              childIndex: parseChildIndex(item, props.children),\n              item: item\n            });\n          }\n        });\n        return formatedItems;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state13 = this.state,\n            activeCoordinate = _this$state13.activeCoordinate,\n            offset = _this$state13.offset,\n            tooltipAxisBandSize = _this$state13.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state14 = this.state,\n            activeCoordinate = _this$state14.activeCoordinate,\n            offset = _this$state14.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"calculateTooltipPos\",\n      value: function calculateTooltipPos(rangeObj) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal') {\n          return rangeObj.x;\n        }\n\n        if (layout === 'vertical') {\n          return rangeObj.y;\n        }\n\n        if (layout === 'centric') {\n          return rangeObj.angle;\n        }\n\n        return rangeObj.radius;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state15 = this.state,\n            angleAxisMap = _this$state15.angleAxisMap,\n            radiusAxisMap = _this$state15.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var tooltipEvents = {};\n\n        if (tooltipItem && eventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        }\n\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread({}, outerEvents, {}, tooltipEvents);\n      }\n      /**\n       * The AxisMaps are expensive to render on large data sets\n       * so provide the ability to store them in state and only update them when necessary\n       * they are dependent upon the start and end index of\n       * the brush so it's important that this method is called _after_\n       * the state is updated with any new start/end indices\n       *\n       * @param {Object} props          The props object to be used for updating the axismaps\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @param {Number} updateId       The update id\n       * @return {Object} state New state to set\n       */\n\n    }, {\n      key: \"updateStateOfAxisMapsOffsetAndStackGroups\",\n      value: function updateStateOfAxisMapsOffsetAndStackGroups(_ref9) {\n        var _this4 = this;\n\n        var props = _ref9.props,\n            dataStartIndex = _ref9.dataStartIndex,\n            dataEndIndex = _ref9.dataEndIndex,\n            updateId = _ref9.updateId;\n\n        if (!validateWidthHeight({\n          props: props\n        })) {\n          return null;\n        }\n\n        var children = props.children,\n            layout = props.layout,\n            stackOffset = props.stackOffset,\n            data = props.data,\n            reverseStackOrder = props.reverseStackOrder;\n\n        var _CategoricalChartWrap2 = CategoricalChartWrapper.getAxisNameByLayout(layout),\n            numericAxisName = _CategoricalChartWrap2.numericAxisName,\n            cateAxisName = _CategoricalChartWrap2.cateAxisName;\n\n        var graphicalItems = findAllByType(children, GraphicalChild);\n        var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n        var axisObj = axisComponents.reduce(function (result, entry) {\n          var name = \"\".concat(entry.axisType, \"Map\");\n          return _objectSpread({}, result, _defineProperty({}, name, _this4.getAxisMap(props, _objectSpread({}, entry, {\n            graphicalItems: graphicalItems,\n            stackGroups: entry.axisType === numericAxisName && stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))));\n        }, {});\n        var offset = this.calculateOffset(_objectSpread({}, axisObj, {\n          props: props,\n          graphicalItems: graphicalItems\n        }));\n        Object.keys(axisObj).forEach(function (key) {\n          axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n        });\n        var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n        var ticksObj = this.tooltipTicksGenerator(cateAxisMap);\n        var formatedGraphicalItems = this.getFormatItems(props, _objectSpread({}, axisObj, {\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex,\n          updateId: updateId,\n          graphicalItems: graphicalItems,\n          stackGroups: stackGroups,\n          offset: offset\n        }));\n        return _objectSpread({\n          formatedGraphicalItems: formatedGraphicalItems,\n          graphicalItems: graphicalItems,\n          offset: offset,\n          stackGroups: stackGroups\n        }, ticksObj, {}, axisObj);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n      /**\n       * Calculate the offset of main part in the svg element\n       * @param  {Object} props          Latest props\n       * @param  {Array}  graphicalItems The instances of item\n       * @param  {Object} xAxisMap       The configuration of x-axis\n       * @param  {Object} yAxisMap       The configuration of y-axis\n       * @return {Object} The offset of main part in the svg element\n       */\n\n    }, {\n      key: \"calculateOffset\",\n      value: function calculateOffset(_ref10) {\n        var props = _ref10.props,\n            graphicalItems = _ref10.graphicalItems,\n            _ref10$xAxisMap = _ref10.xAxisMap,\n            xAxisMap = _ref10$xAxisMap === void 0 ? {} : _ref10$xAxisMap,\n            _ref10$yAxisMap = _ref10.yAxisMap,\n            yAxisMap = _ref10$yAxisMap === void 0 ? {} : _ref10$yAxisMap;\n        var width = props.width,\n            height = props.height,\n            children = props.children;\n        var margin = props.margin || {};\n        var brushItem = findChildByType(children, Brush.displayName);\n        var legendItem = findChildByType(children, Legend.displayName);\n        var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n          var entry = yAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, result[orientation] + entry.width));\n          }\n\n          return result;\n        }, {\n          left: margin.left || 0,\n          right: margin.right || 0\n        });\n        var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n          var entry = xAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n          }\n\n          return result;\n        }, {\n          top: margin.top || 0,\n          bottom: margin.bottom || 0\n        });\n\n        var offset = _objectSpread({}, offsetV, {}, offsetH);\n\n        var brushBottom = offset.bottom;\n\n        if (brushItem) {\n          offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n        }\n\n        if (legendItem && this.legendInstance) {\n          var legendBox = this.legendInstance.getBBox();\n          offset = appendOffsetOfLegend(offset, graphicalItems, props, legendBox);\n        }\n\n        return _objectSpread({\n          brushBottom: brushBottom\n        }, offset, {\n          width: width - offset.left - offset.right,\n          height: height - offset.top - offset.bottom\n        });\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formatedGraphicalItems = this.state.formatedGraphicalItems;\n\n        for (var i = 0, len = formatedGraphicalItems.length; i < len; i++) {\n          var entry = formatedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      value: function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props6 = this.props,\n            width = _this$props6.width,\n            height = _this$props6.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this5 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props7 = this.props,\n            children = _this$props7.children,\n            className = _this$props7.className,\n            width = _this$props7.width,\n            height = _this$props7.height,\n            style = _this$props7.style,\n            compact = _this$props7.compact,\n            others = _objectWithoutProperties(_this$props7, [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\"]);\n\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this5.container = node;\n          }\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }], [{\n      key: \"getAxisNameByLayout\",\n      value: function getAxisNameByLayout(layout) {\n        if (layout === 'horizontal') {\n          return {\n            numericAxisName: 'yAxis',\n            cateAxisName: 'xAxis'\n          };\n        }\n\n        if (layout === 'vertical') {\n          return {\n            numericAxisName: 'xAxis',\n            cateAxisName: 'yAxis'\n          };\n        }\n\n        if (layout === 'centric') {\n          return {\n            numericAxisName: 'radiusAxis',\n            cateAxisName: 'angleAxis'\n          };\n        }\n\n        return {\n          numericAxisName: 'angleAxis',\n          cateAxisName: 'radiusAxis'\n        };\n      }\n    }, {\n      key: \"renderActiveDot\",\n      value: function renderActiveDot(option, props) {\n        var dot;\n\n        if (isValidElement(option)) {\n          dot = cloneElement(option, props);\n        } else if (_isFunction(option)) {\n          dot = option(props);\n        } else {\n          dot = /*#__PURE__*/React.createElement(Dot, props);\n        }\n\n        return /*#__PURE__*/React.createElement(Layer, {\n          className: \"recharts-active-dot\",\n          key: props.key\n        }, dot);\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component), _class.displayName = chartName, _class.defaultProps = _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false\n  }, defaultProps), _class.createDefaultState = function (props) {\n    var children = props.children,\n        defaultShowTooltip = props.defaultShowTooltip;\n    var brushItem = findChildByType(children, Brush.displayName);\n    var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n    var endIndex = brushItem && brushItem.props && brushItem.props.endIndex || props.data && props.data.length - 1 || 0;\n    return {\n      chartX: 0,\n      chartY: 0,\n      dataStartIndex: startIndex,\n      dataEndIndex: endIndex,\n      activeTooltipIndex: -1,\n      isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n    };\n  }, _class.hasBar = function (graphicalItems) {\n    if (!graphicalItems || !graphicalItems.length) {\n      return false;\n    }\n\n    return graphicalItems.some(function (item) {\n      var name = getDisplayName(item && item.type);\n      return name && name.indexOf('Bar') >= 0;\n    });\n  }, _class.getDisplayedData = function (props, _ref11, item) {\n    var graphicalItems = _ref11.graphicalItems,\n        dataStartIndex = _ref11.dataStartIndex,\n        dataEndIndex = _ref11.dataEndIndex;\n    var itemsData = (graphicalItems || []).reduce(function (result, child) {\n      var itemData = child.props.data;\n\n      if (itemData && itemData.length) {\n        return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n      }\n\n      return result;\n    }, []);\n\n    if (itemsData && itemsData.length > 0) {\n      return itemsData;\n    }\n\n    if (item && item.props && item.props.data && item.props.data.length > 0) {\n      return item.props.data;\n    }\n\n    var data = props.data;\n\n    if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n      return data.slice(dataStartIndex, dataEndIndex + 1);\n    }\n\n    return [];\n  }, _temp;\n};\n\nexport default generateCategoricalChart;","map":{"version":3,"sources":["/Users/shaharnussbaum/Desktop/strikingdash/strikingdash/node_modules/recharts/es6/chart/generateCategoricalChart.js"],"names":["_every","_find","_sortBy","_isFunction","_get","_range","_throttle","_isNil","_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","name","Array","from","test","iter","isArray","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_createSuper","Derived","Super","_getPrototypeOf","result","_isNativeReflectConstruct","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","e","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","Component","cloneElement","isValidElement","createElement","classNames","Surface","Layer","Tooltip","Legend","Curve","Cross","Sector","Dot","Rectangle","findAllByType","findChildByType","getDisplayName","parseChildIndex","validateWidthHeight","isChildrenEqual","renderByOrder","getReactEventByType","CartesianAxis","Brush","getOffset","calculateChartCoordinate","getAnyElementOfObject","hasDuplicate","uniqueId","isNumber","findEntryInArray","calculateActiveTickIndex","getMainColorOfGraphicItem","getBarSizeList","getBarPosition","appendOffsetOfLegend","getLegendProps","combineEventHandlers","getTicksOfAxis","getCoordinatesOfGrid","getStackedDataOfItem","parseErrorBarsOfAxis","getBandSizeOfAxis","getStackGroupsByAxisId","getValueByDataKey","isCategoricalAxis","getDomainOfItemsWithSameAxis","getDomainOfStackGroups","getDomainOfDataByKey","parseSpecifiedDomain","parseDomainOfCategoryAxis","detectReferenceElementsDomain","inRangeOfSector","polarToCartesian","shallowEqual","eventCenter","SYNC_EVENT","filterProps","adaptEventHandlers","ORIENT_MAP","xAxis","yAxis","originCoordinate","x","y","generateCategoricalChart","_ref","_class","_temp","chartName","GraphicalChild","_ref$eventType","eventType","axisComponents","legendContent","formatAxisMap","defaultProps","_Component","CategoricalChartWrapper","_super","_props","_this","uniqueChartId","clipPathId","legendInstance","container","getAxisMapByAxes","_ref2","axes","graphicalItems","axisType","axisIdKey","stackGroups","dataStartIndex","dataEndIndex","layout","children","stackOffset","isCategorical","axisMap","reduce","child","_child$props","type","dataKey","allowDataOverflow","allowDuplicatedCategory","scale","ticks","axisId","displayedData","getDisplayedData","item","domain","duplicateDomain","categoricalDomain","duplicate","finalDomain","entry","concat","errorBarsDomain","hide","hasStack","axisDomain","isDomainValidate","every","originalDomain","getAxisMapByItems","_ref3","Axis","index","orientation","handleLegendBBoxUpdate","box","_this$state","state","updateId","setState","updateStateOfAxisMapsOffsetAndStackGroups","handleReceiveSyncEvent","cId","chartId","data","_this$props","syncId","activeTooltipIndex","chartX","chartY","_this$state2","offset","tooltipTicks","viewBox","left","top","validateChartX","Math","min","width","validateChartY","height","activeLabel","activePayload","getTooltipContent","activeCoordinate","coordinate","handleBrushChange","_ref4","startIndex","endIndex","triggerSyncEvent","handleMouseEnter","onMouseEnter","mouse","getMouseInfo","nextState","isTooltipActive","triggeredAfterMouseMove","onMouseMove","handleItemMouseEnter","el","activeItem","tooltipPayload","tooltipPosition","cx","cy","handleItemMouseLeave","handleMouseMove","persist","handleMouseLeave","onMouseLeave","cancelThrottledTriggerAfterMouseMove","handleOuterEvent","eventName","event","changedTouches","handler","handleClick","onClick","handleMouseDown","onMouseDown","handleMouseUp","onMouseUp","handleTouchMove","handleTouchStart","handleTouchEnd","verticalCoordinatesGenerator","_ref5","getTicks","horizontalCoordinatesGenerator","_ref6","axesTicksGenerator","axis","tooltipTicksGenerator","orderedTooltipTicks","tooltipAxis","tooltipAxisBandSize","renderCursor","element","_this$state3","cursor","restProps","cursorComp","getCursorRectangle","_this$getCursorPoints","getCursorPoints","radius","startAngle","endAngle","innerRadius","outerRadius","points","cursorProps","stroke","pointerEvents","payload","payloadIndex","className","renderPolarAxis","displayName","axisOption","renderXAxis","xAxisMap","axisObj","xAxisId","renderAxis","renderYAxis","yAxisMap","yAxisId","renderGrid","_this$state4","_this$props2","yAxisWithFiniteDomain","Number","isFinite","chartWidth","chartHeight","renderPolarGrid","_this$state5","radiusAxisMap","angleAxisMap","radiusAxis","angleAxis","polarAngles","map","polarRadius","renderLegend","formatedGraphicalItems","_this$props3","margin","legendWidth","right","otherProps","ref","legend","onBBoxUpdate","renderTooltip","tooltipItem","_this$state6","active","label","renderBrush","_this$props4","_this$state7","onChange","brushBottom","bottom","renderReferenceElement","_assertThisInitialize","_this$state8","_element$props","renderActivePoints","_ref7","activePoint","basePoint","childIndex","isRange","_item$item$props","activeDot","dotProps","r","fill","strokeWidth","renderActiveDot","renderGraphicChild","filterFormatItem","graphicalItem","_this$state9","_item$props","baseLine","_item$item$props2","hasActive","findWithPayload","specifiedKey","renderCustomized","defaultState","createDefaultState","_updateId","id","throttleDelay","componentDidMount","addListener","UNSAFE_componentWillReceiveProps","nextProps","_this2","_this$props5","keepFromPrevState","updatesToState","getTooltipData","newState","hasGlobalData","newUpdateId","prevState","removeListener","componentWillUnmount","cancel","getAxisMap","_ref8","_ref8$axisType","AxisComp","getActiveCoordinate","activeIndex","rangeObj","find","tick","_angle","_radius","angle","rangeData","pos","calculateTooltipPos","_this$state10","containerOffset","inRange","_this$state11","xScale","yScale","xValue","invert","yValue","toolTipData","_this$state12","_child$props2","unit","formatter","tooltipType","color","getFormatItems","currentState","_this3","barSize","barGap","barCategoryGap","globalMaxBarSize","maxBarSize","_CategoricalChartWrap","getAxisNameByLayout","numericAxisName","cateAxisName","hasBar","sizeList","formatedItems","isTooltipTriggerByClick","trigger","_item$props2","childMaxBarSize","numericAxisId","cateAxisId","_objectSpread4","cateAxis","cateTicks","stackedData","itemIsBar","bandSize","barPosition","barBandSize","position","componsedFn","getComposedData","_objectSpread5","itemEvents","onItemClick","onCLick","onItemMouseLeave","onItemMouseEnter","_this$state13","halfSize","_this$state14","x1","y1","x2","y2","innerPoint","outerPoint","_cx","_cy","startPoint","endPoint","isInRange","_this$state15","parseEventsOfWrapper","tooltipEvents","onTouchMove","onTouchStart","onTouchEnd","outerEvents","_ref9","_this4","reverseStackOrder","_CategoricalChartWrap2","calculateOffset","replace","cateAxisMap","ticksObj","on","setMaxListeners","_maxListeners","_ref10","_ref10$xAxisMap","_ref10$yAxisMap","brushItem","legendItem","offsetH","mirror","offsetV","legendBox","getBBox","emit","axisOptions","_this$props6","ticksGenerator","renderClipPath","_this$state$offset","render","_this5","_this$props7","style","compact","others","attrs","CartesianGrid","once","ReferenceArea","ReferenceLine","ReferenceDot","XAxis","YAxis","Bar","Line","Area","Radar","RadialBar","Scatter","Pie","Funnel","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Customized","events","node","option","dot","defaultShowTooltip","some","_ref11","itemsData","itemData"],"mappings":"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","sourcesContent":["import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _sortBy from \"lodash/sortBy\";\nimport _isFunction from \"lodash/isFunction\";\nimport _get from \"lodash/get\";\nimport _range from \"lodash/range\";\nimport _throttle from \"lodash/throttle\";\nimport _isNil from \"lodash/isNil\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport Surface from '../container/Surface';\nimport Layer from '../container/Layer';\nimport Tooltip from '../component/Tooltip';\nimport Legend from '../component/Legend';\nimport Curve from '../shape/Curve';\nimport Cross from '../shape/Cross';\nimport Sector from '../shape/Sector';\nimport Dot from '../shape/Dot';\nimport Rectangle from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType } from '../util/ReactUtils';\nimport CartesianAxis from '../cartesian/CartesianAxis';\nimport Brush from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, getValueByDataKey, isCategoricalAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { filterProps, adaptEventHandlers } from '../util/types';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\nvar generateCategoricalChart = function generateCategoricalChart(_ref) {\n  var _class, _temp;\n\n  var chartName = _ref.chartName,\n      GraphicalChild = _ref.GraphicalChild,\n      _ref$eventType = _ref.eventType,\n      eventType = _ref$eventType === void 0 ? 'axis' : _ref$eventType,\n      axisComponents = _ref.axisComponents,\n      legendContent = _ref.legendContent,\n      formatAxisMap = _ref.formatAxisMap,\n      defaultProps = _ref.defaultProps;\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    var _super = _createSuper(CategoricalChartWrapper);\n\n    // todo join specific chart propTypes\n\n    /**\n     * Returns default, reset state for the categorical chart.\n     * @param {Object} props Props object to use when creating the default state\n     * @return {Object} Whole new state\n     */\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _super.call(this, _props);\n      _this.uniqueChartId = void 0;\n      _this.clipPathId = void 0;\n      _this.legendInstance = void 0;\n      _this.container = void 0;\n\n      _this.getAxisMapByAxes = function (props, _ref2) {\n        var axes = _ref2.axes,\n            graphicalItems = _ref2.graphicalItems,\n            axisType = _ref2.axisType,\n            axisIdKey = _ref2.axisIdKey,\n            stackGroups = _ref2.stackGroups,\n            dataStartIndex = _ref2.dataStartIndex,\n            dataEndIndex = _ref2.dataEndIndex;\n        var layout = props.layout,\n            children = props.children,\n            stackOffset = props.stackOffset;\n        var isCategorical = isCategoricalAxis(layout, axisType); // Eliminate duplicated axes\n\n        var axisMap = axes.reduce(function (result, child) {\n          var _child$props = child.props,\n              type = _child$props.type,\n              dataKey = _child$props.dataKey,\n              allowDataOverflow = _child$props.allowDataOverflow,\n              allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n              scale = _child$props.scale,\n              ticks = _child$props.ticks;\n          var axisId = child.props[axisIdKey];\n          var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n            graphicalItems: graphicalItems.filter(function (item) {\n              return item.props[axisIdKey] === axisId;\n            }),\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n          var len = displayedData.length;\n\n          if (!result[axisId]) {\n            var domain, duplicateDomain, categoricalDomain;\n\n            if (dataKey) {\n              // has dataKey in <Axis />\n              domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n              if (type === 'category' && isCategorical) {\n                // the field type is category data and this axis is catrgorical axis\n                var duplicate = hasDuplicate(domain);\n\n                if (allowDuplicatedCategory && duplicate) {\n                  duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n                  domain = _range(0, len);\n                } else if (!allowDuplicatedCategory) {\n                  // remove duplicated category\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                }\n              } else if (type === 'category') {\n                // the field type is category data and this axis is numerical axis\n                if (!allowDuplicatedCategory) {\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                } else {\n                  // eliminate undefined or null or empty string\n                  domain = domain.filter(function (entry) {\n                    return entry !== '' && !_isNil(entry);\n                  });\n                }\n              } else if (type === 'number') {\n                // the field type is numerical\n                var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n                  return item.props[axisIdKey] === axisId && !item.props.hide;\n                }), dataKey, axisType);\n\n                if (errorBarsDomain) {\n                  domain = errorBarsDomain;\n                }\n              }\n\n              if (isCategorical && (type === 'number' || scale !== 'auto')) {\n                categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n              }\n            } else if (isCategorical) {\n              // the axis is a categorical axis\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n              // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n              domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n            } else {\n              domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), type, true);\n            }\n\n            if (type === 'number') {\n              // To detect wether there is any reference lines whose props alwaysShow is true\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n              if (child.props.domain) {\n                domain = parseSpecifiedDomain(child.props.domain, domain, allowDataOverflow);\n              }\n            } else if (type === 'category' && child.props.domain) {\n              var axisDomain = child.props.domain;\n              var isDomainValidate = domain.every(function (entry) {\n                return axisDomain.indexOf(entry) >= 0;\n              });\n\n              if (isDomainValidate) {\n                domain = axisDomain;\n              }\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({}, child.props, {\n              axisType: axisType,\n              domain: domain,\n              categoricalDomain: categoricalDomain,\n              duplicateDomain: duplicateDomain,\n              originalDomain: child.props.domain,\n              isCategorical: isCategorical,\n              layout: layout\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      };\n\n      _this.getAxisMapByItems = function (props, _ref3) {\n        var graphicalItems = _ref3.graphicalItems,\n            Axis = _ref3.Axis,\n            axisType = _ref3.axisType,\n            axisIdKey = _ref3.axisIdKey,\n            stackGroups = _ref3.stackGroups,\n            dataStartIndex = _ref3.dataStartIndex,\n            dataEndIndex = _ref3.dataEndIndex;\n        var layout = props.layout,\n            children = props.children;\n        var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n          graphicalItems: graphicalItems,\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex\n        });\n        var len = displayedData.length;\n        var isCategorical = isCategoricalAxis(layout, axisType);\n        var index = -1; // The default type of x-axis is category axis,\n        // The default contents of x-axis is the serial numbers of data\n        // The default type of y-axis is number axis\n        // The default contents of y-axis is the domain of data\n\n        var axisMap = graphicalItems.reduce(function (result, child) {\n          var axisId = child.props[axisIdKey];\n\n          if (!result[axisId]) {\n            index++;\n            var domain;\n\n            if (isCategorical) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n              domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            } else {\n              domain = parseSpecifiedDomain(Axis.defaultProps.domain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), 'number'), Axis.defaultProps.allowDataOverflow);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({\n              axisType: axisType\n            }, Axis.defaultProps, {\n              hide: true,\n              orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n              domain: domain,\n              originalDomain: Axis.defaultProps.domain,\n              isCategorical: isCategorical,\n              layout: layout // specify scale when no Axis\n              // scale: isCategorical ? 'band' : 'linear',\n\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      };\n\n      _this.handleLegendBBoxUpdate = function (box) {\n        if (box && _this.legendInstance) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_this.updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }));\n        }\n      };\n\n      _this.handleReceiveSyncEvent = function (cId, chartId, data) {\n        var _this$props = _this.props,\n            syncId = _this$props.syncId,\n            layout = _this$props.layout;\n        var updateId = _this.state.updateId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          var dataStartIndex = data.dataStartIndex,\n              dataEndIndex = data.dataEndIndex;\n\n          if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n            _this.setState(_objectSpread({\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex,\n              updateId: updateId\n            })));\n          } else if (!_isNil(data.activeTooltipIndex)) {\n            var chartX = data.chartX,\n                chartY = data.chartY,\n                activeTooltipIndex = data.activeTooltipIndex;\n            var _this$state2 = _this.state,\n                offset = _this$state2.offset,\n                tooltipTicks = _this$state2.tooltipTicks;\n\n            if (!offset) {\n              return;\n            }\n\n            var viewBox = _objectSpread({}, offset, {\n              x: offset.left,\n              y: offset.top\n            }); // When a categotical chart is combined with another chart, the value of chartX\n            // and chartY may beyond the boundaries.\n\n\n            var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n            var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n            var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n\n            var activePayload = _this.getTooltipContent(activeTooltipIndex);\n\n            var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n              x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n              y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n            } : originCoordinate;\n\n            _this.setState(_objectSpread({}, data, {\n              activeLabel: activeLabel,\n              activeCoordinate: activeCoordinate,\n              activePayload: activePayload\n            }));\n          } else {\n            _this.setState(data);\n          }\n        }\n      };\n\n      _this.handleBrushChange = function (_ref4) {\n        var startIndex = _ref4.startIndex,\n            endIndex = _ref4.endIndex;\n\n        // Only trigger changes if the extents of the brush have actually changed\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      };\n\n      _this.handleMouseEnter = function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var nextState = _objectSpread({}, mouse, {\n            isTooltipActive: true\n          });\n\n          _this.setState(nextState);\n\n          _this.triggerSyncEvent(nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(nextState, e);\n          }\n        }\n      };\n\n      _this.triggeredAfterMouseMove = function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread({}, mouse, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      };\n\n      _this.handleItemMouseEnter = function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      };\n\n      _this.handleItemMouseLeave = function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      };\n\n      _this.handleMouseMove = function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      };\n\n      _this.handleMouseLeave = function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n\n        _this.cancelThrottledTriggerAfterMouseMove();\n      };\n\n      _this.handleOuterEvent = function (e) {\n        var eventName = getReactEventByType(e);\n\n        var event = _get(_this.props, \"\".concat(eventName));\n\n        if (eventName && _isFunction(event)) {\n          var mouse;\n\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n\n          var handler = event;\n          handler(mouse, e);\n        }\n      };\n\n      _this.handleClick = function (e) {\n        var onClick = _this.props.onClick;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var nextState = _objectSpread({}, mouse, {\n            isTooltipActive: true\n          });\n\n          _this.setState(nextState);\n\n          _this.triggerSyncEvent(nextState);\n\n          if (_isFunction(onClick)) {\n            onClick(nextState, e);\n          }\n        }\n      };\n\n      _this.handleMouseDown = function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseDown(mouse, e);\n        }\n      };\n\n      _this.handleMouseUp = function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseUp(mouse, e);\n        }\n      };\n\n      _this.handleTouchMove = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchStart = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchEnd = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      };\n\n      _this.verticalCoordinatesGenerator = function (_ref5) {\n        var xAxis = _ref5.xAxis,\n            width = _ref5.width,\n            height = _ref5.height,\n            offset = _ref5.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, xAxis, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      };\n\n      _this.horizontalCoordinatesGenerator = function (_ref6) {\n        var yAxis = _ref6.yAxis,\n            width = _ref6.width,\n            height = _ref6.height,\n            offset = _ref6.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, yAxis, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      };\n\n      _this.axesTicksGenerator = function (axis) {\n        return getTicksOfAxis(axis, true);\n      };\n\n      _this.tooltipTicksGenerator = function (axisMap) {\n        var axis = getAnyElementOfObject(axisMap);\n        var tooltipTicks = getTicksOfAxis(axis, false, true);\n        return {\n          tooltipTicks: tooltipTicks,\n          orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n            return o.coordinate;\n          }),\n          tooltipAxis: axis,\n          tooltipAxisBandSize: getBandSizeOfAxis(axis)\n        };\n      };\n\n      _this.renderCursor = function (element) {\n        var _this$state3 = _this.state,\n            isTooltipActive = _this$state3.isTooltipActive,\n            activeCoordinate = _this$state3.activeCoordinate,\n            activePayload = _this$state3.activePayload,\n            offset = _this$state3.offset,\n            activeTooltipIndex = _this$state3.activeTooltipIndex;\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate) {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset, {}, restProps, {}, filterProps(element.props.cursor), {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return isValidElement(element.props.cursor) ? cloneElement(element.props.cursor, cursorProps) : createElement(cursorComp, cursorProps);\n      };\n\n      _this.renderPolarAxis = function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n\n        var axisOption = axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return cloneElement(element, _objectSpread({}, axisOption, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      };\n\n      _this.renderXAxis = function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderYAxis = function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderGrid = function (element) {\n        var _this$state4 = _this.state,\n            xAxisMap = _this$state4.xAxisMap,\n            yAxisMap = _this$state4.yAxisMap,\n            offset = _this$state4.offset;\n        var _this$props2 = _this.props,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, Number.isFinite);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      };\n\n      _this.renderPolarGrid = function (element) {\n        var _this$state5 = _this.state,\n            radiusAxisMap = _this$state5.radiusAxisMap,\n            angleAxisMap = _this$state5.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return cloneElement(element, {\n          polarAngles: getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid'\n        });\n      };\n\n      _this.renderLegend = function () {\n        var formatedGraphicalItems = _this.state.formatedGraphicalItems;\n        var _this$props3 = _this.props,\n            children = _this$props3.children,\n            width = _this$props3.width,\n            height = _this$props3.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formatedGraphicalItems: formatedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, [\"item\"]);\n\n        return cloneElement(item, _objectSpread({}, otherProps, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this.legendInstance = legend;\n          },\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      };\n\n      _this.renderTooltip = function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state6 = _this.state,\n            isTooltipActive = _this$state6.isTooltipActive,\n            activeCoordinate = _this$state6.activeCoordinate,\n            activePayload = _this$state6.activePayload,\n            activeLabel = _this$state6.activeLabel,\n            offset = _this$state6.offset;\n        return cloneElement(tooltipItem, {\n          viewBox: _objectSpread({}, offset, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      };\n\n      _this.renderBrush = function (element) {\n        var _this$props4 = _this.props,\n            margin = _this$props4.margin,\n            data = _this$props4.data;\n        var _this$state7 = _this.state,\n            offset = _this$state7.offset,\n            dataStartIndex = _this$state7.dataStartIndex,\n            dataEndIndex = _this$state7.dataEndIndex,\n            updateId = _this$state7.updateId; // TODO: update brush when children update\n\n        return cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      };\n\n      _this.renderReferenceElement = function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state8 = _this.state,\n            xAxisMap = _this$state8.xAxisMap,\n            yAxisMap = _this$state8.yAxisMap,\n            offset = _this$state8.offset;\n        var _element$props = element.props,\n            xAxisId = _element$props.xAxisId,\n            yAxisId = _element$props.yAxisId;\n        return cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      };\n\n      _this.renderActivePoints = function (_ref7) {\n        var item = _ref7.item,\n            activePoint = _ref7.activePoint,\n            basePoint = _ref7.basePoint,\n            childIndex = _ref7.childIndex,\n            isRange = _ref7.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            dataKey = _item$item$props.dataKey;\n\n        var dotProps = _objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot), {}, adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread({}, dotProps, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      };\n\n      _this.renderGraphicChild = function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var graphicalItem = cloneElement(element, item.props);\n        var _this$state9 = _this.state,\n            isTooltipActive = _this$state9.isTooltipActive,\n            tooltipAxis = _this$state9.tooltipAxis,\n            activeTooltipIndex = _this$state9.activeTooltipIndex,\n            activeLabel = _this$state9.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var _item$props = item.props,\n            points = _item$props.points,\n            isRange = _item$props.isRange,\n            baseLine = _item$props.baseLine;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            hide = _item$item$props2.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // number transform to string\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      };\n\n      _this.renderCustomized = function (element) {\n        return cloneElement(element, _objectSpread({}, _this.props, {}, _this.state));\n      };\n\n      var defaultState = CategoricalChartWrapper.createDefaultState(_props);\n      var _updateId = 0;\n      _this.state = _objectSpread({}, defaultState, {\n        updateId: 0\n      }, _this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: _props\n      }, defaultState, {\n        updateId: _updateId\n      })));\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      return _this;\n    }\n    /* eslint-disable  react/no-did-mount-set-state */\n\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n      } // eslint-disable-next-line camelcase\n\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        var _this2 = this;\n\n        var _this$props5 = this.props,\n            data = _this$props5.data,\n            children = _this$props5.children,\n            width = _this$props5.width,\n            height = _this$props5.height,\n            layout = _this$props5.layout,\n            stackOffset = _this$props5.stackOffset,\n            margin = _this$props5.margin;\n        var updateId = this.state.updateId;\n\n        if (nextProps.data !== data || nextProps.width !== width || nextProps.height !== height || nextProps.layout !== layout || nextProps.stackOffset !== stackOffset || !shallowEqual(nextProps.margin, margin)) {\n          var defaultState = CategoricalChartWrapper.createDefaultState(nextProps); // Fixes https://github.com/recharts/recharts/issues/2143\n\n          var keepFromPrevState = {\n            // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n            // any flickering\n            chartX: this.state.chartX,\n            chartY: this.state.chartY,\n            // The tooltip should stay active when it was active in the previous render. If this is not\n            // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n            isTooltipActive: this.state.isTooltipActive\n          };\n\n          var updatesToState = _objectSpread({}, this.getTooltipData(), {\n            // Update the current tooltip data (in case it changes without mouse interaction)\n            updateId: updateId + 1\n          });\n\n          var newState = _objectSpread({}, defaultState, {}, keepFromPrevState, {}, updatesToState);\n\n          this.setState(_objectSpread({}, newState, {}, this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n            props: nextProps\n          }, newState))));\n        } else if (!isChildrenEqual(nextProps.children, children)) {\n          // update configuration in chilren\n          var hasGlobalData = !_isNil(nextProps.data);\n          var newUpdateId = hasGlobalData ? updateId : updateId + 1;\n          this.setState(function (prevState) {\n            return _objectSpread({\n              updateId: newUpdateId\n            }, _this2.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n              props: nextProps\n            }, prevState, {\n              updateId: newUpdateId\n            })));\n          });\n        } // add syncId\n\n\n        if (_isNil(this.props.syncId) && !_isNil(nextProps.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(this.props.syncId) && _isNil(nextProps.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        this.cancelThrottledTriggerAfterMouseMove();\n      }\n    }, {\n      key: \"cancelThrottledTriggerAfterMouseMove\",\n      value: function cancelThrottledTriggerAfterMouseMove() {\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n      /**\n       * Get the configuration of all x-axis or y-axis\n       * @param  {Object} props          Latest props\n       * @param  {String} axisType       The type of axis\n       * @param  {Array}  graphicalItems The instances of item\n       * @param  {Object} stackGroups    The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n       * @return {Object}          Configuration\n       */\n\n    }, {\n      key: \"getAxisMap\",\n      value: function getAxisMap(props, _ref8) {\n        var _ref8$axisType = _ref8.axisType,\n            axisType = _ref8$axisType === void 0 ? 'xAxis' : _ref8$axisType,\n            AxisComp = _ref8.AxisComp,\n            graphicalItems = _ref8.graphicalItems,\n            stackGroups = _ref8.stackGroups,\n            dataStartIndex = _ref8.dataStartIndex,\n            dataEndIndex = _ref8.dataEndIndex;\n        var children = props.children;\n        var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n        var axes = findAllByType(children, AxisComp);\n        var axisMap = {};\n\n        if (axes && axes.length) {\n          axisMap = this.getAxisMapByAxes(props, {\n            axes: axes,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        } else if (graphicalItems && graphicalItems.length) {\n          axisMap = this.getAxisMapByItems(props, {\n            Axis: AxisComp,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        }\n\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of axis instance\n       * @param  {Object} props         Latest props\n       * @param {Array}  axes           The instance of axes\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}      Configuration\n       */\n\n    }, {\n      key: \"getActiveCoordinate\",\n      value: function getActiveCoordinate(tooltipTicks, activeIndex, rangeObj) {\n        var layout = this.props.layout;\n        var entry = tooltipTicks.find(function (tick) {\n          return tick && tick.index === activeIndex;\n        });\n\n        if (entry) {\n          if (layout === 'horizontal') {\n            return {\n              x: entry.coordinate,\n              y: rangeObj.y\n            };\n          }\n\n          if (layout === 'vertical') {\n            return {\n              x: rangeObj.x,\n              y: entry.coordinate\n            };\n          }\n\n          if (layout === 'centric') {\n            var _angle = entry.coordinate;\n            var _radius = rangeObj.radius;\n            return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle), {\n              angle: _angle,\n              radius: _radius\n            });\n          }\n\n          var radius = entry.coordinate;\n          var angle = rangeObj.angle;\n          return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle), {\n            angle: angle,\n            radius: radius\n          });\n        }\n\n        return originCoordinate;\n      }\n      /**\n       * Returns tooltip data based on a mouse position (as a parameter or in state)\n       * @param  {Object} rangeObj  { x, y } coordinates\n       * @return {Object}           Tooltip data data\n       */\n\n    }, {\n      key: \"getTooltipData\",\n      value: function getTooltipData(rangeObj) {\n        var rangeData = rangeObj || {\n          x: this.state.chartX,\n          y: this.state.chartY\n        };\n        var pos = this.calculateTooltipPos(rangeData);\n        var _this$state10 = this.state,\n            ticks = _this$state10.orderedTooltipTicks,\n            axis = _this$state10.tooltipAxis,\n            tooltipTicks = _this$state10.tooltipTicks;\n        var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n        if (activeIndex >= 0 && tooltipTicks) {\n          var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n          var activePayload = this.getTooltipContent(activeIndex, activeLabel);\n          var activeCoordinate = this.getActiveCoordinate(ticks, activeIndex, rangeData);\n          return {\n            activeTooltipIndex: activeIndex,\n            activeLabel: activeLabel,\n            activePayload: activePayload,\n            activeCoordinate: activeCoordinate\n          };\n        }\n\n        return null;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state11 = this.state,\n            xAxisMap = _this$state11.xAxisMap,\n            yAxisMap = _this$state11.yAxisMap;\n\n        if (eventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread({}, e, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var toolTipData = this.getTooltipData(rangeObj);\n\n        if (toolTipData) {\n          return _objectSpread({}, e, {}, toolTipData);\n        }\n\n        return null;\n      }\n      /**\n       * Get the content to be displayed in the tooltip\n       * @param  {Number} activeIndex    Active index of data\n       * @param  {String} activeLabel    Active label of data\n       * @return {Array}                 The content of tooltip\n       */\n\n    }, {\n      key: \"getTooltipContent\",\n      value: function getTooltipContent(activeIndex, activeLabel) {\n        var _this$state12 = this.state,\n            graphicalItems = _this$state12.graphicalItems,\n            tooltipAxis = _this$state12.tooltipAxis;\n        var displayedData = CategoricalChartWrapper.getDisplayedData(this.props, this.state);\n\n        if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n          return null;\n        } // get data by activeIndex when the axis don't allow duplicated category\n\n\n        return graphicalItems.reduce(function (result, child) {\n          var hide = child.props.hide;\n\n          if (hide) {\n            return result;\n          }\n\n          var _child$props2 = child.props,\n              dataKey = _child$props2.dataKey,\n              name = _child$props2.name,\n              unit = _child$props2.unit,\n              formatter = _child$props2.formatter,\n              data = _child$props2.data,\n              tooltipType = _child$props2.tooltipType;\n          var payload;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // graphic child has data props\n            payload = findEntryInArray(data || displayedData, tooltipAxis.dataKey, activeLabel);\n          } else {\n            payload = data && data[activeIndex] || displayedData[activeIndex];\n          }\n\n          if (!payload) {\n            return result;\n          }\n\n          return [].concat(_toConsumableArray(result), [_objectSpread({}, filterProps(child), {\n            dataKey: dataKey,\n            unit: unit,\n            formatter: formatter,\n            name: name || dataKey,\n            color: getMainColorOfGraphicItem(child),\n            value: getValueByDataKey(payload, dataKey),\n            type: tooltipType,\n            payload: payload\n          })]);\n        }, []);\n      }\n    }, {\n      key: \"getFormatItems\",\n      value: function getFormatItems(props, currentState) {\n        var _this3 = this;\n\n        var graphicalItems = currentState.graphicalItems,\n            stackGroups = currentState.stackGroups,\n            offset = currentState.offset,\n            updateId = currentState.updateId,\n            dataStartIndex = currentState.dataStartIndex,\n            dataEndIndex = currentState.dataEndIndex;\n        var barSize = props.barSize,\n            layout = props.layout,\n            barGap = props.barGap,\n            barCategoryGap = props.barCategoryGap,\n            globalMaxBarSize = props.maxBarSize;\n\n        var _CategoricalChartWrap = CategoricalChartWrapper.getAxisNameByLayout(layout),\n            numericAxisName = _CategoricalChartWrap.numericAxisName,\n            cateAxisName = _CategoricalChartWrap.cateAxisName;\n\n        var hasBar = CategoricalChartWrapper.hasBar(graphicalItems);\n        var sizeList = hasBar && getBarSizeList({\n          barSize: barSize,\n          stackGroups: stackGroups\n        });\n        var formatedItems = [];\n        var tooltipItem = findChildByType(props.children, Tooltip.displayName);\n        var isTooltipTriggerByClick = tooltipItem && tooltipItem.props.trigger === 'click';\n        graphicalItems.forEach(function (item, index) {\n          var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, item);\n          var _item$props2 = item.props,\n              dataKey = _item$props2.dataKey,\n              childMaxBarSize = _item$props2.maxBarSize;\n          var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n          var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n          var axisObj = axisComponents.reduce(function (result, entry) {\n            var _objectSpread4;\n\n            var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n            var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n            var axis = axisMap && axisMap[id];\n            return _objectSpread({}, result, (_objectSpread4 = {}, _defineProperty(_objectSpread4, entry.axisType, axis), _defineProperty(_objectSpread4, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread4));\n          }, {});\n          var cateAxis = axisObj[cateAxisName];\n          var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n          var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n          var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n          var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n          var barPosition = [];\n\n          if (itemIsBar) {\n            var barBandSize = getBandSizeOfAxis(cateAxis, cateTicks, true); // barbar\n\n            var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n            barPosition = getBarPosition({\n              barGap: barGap,\n              barCategoryGap: barCategoryGap,\n              bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n              sizeList: sizeList[cateAxisId],\n              maxBarSize: maxBarSize\n            });\n\n            if (barBandSize !== bandSize) {\n              barPosition = barPosition.map(function (pos) {\n                return _objectSpread({}, pos, {\n                  position: _objectSpread({}, pos.position, {\n                    offset: pos.position.offset - barBandSize / 2\n                  })\n                });\n              });\n            }\n          }\n\n          var componsedFn = item && item.type && item.type.getComposedData;\n\n          if (componsedFn) {\n            var _objectSpread5;\n\n            var itemEvents = isTooltipTriggerByClick ? {\n              onItemClick: combineEventHandlers(_this3.handleItemMouseEnter, null, item.props.onCLick)\n            } : {\n              onItemMouseLeave: combineEventHandlers(_this3.handleItemMouseLeave, null, item.props.onMouseLeave),\n              onItemMouseEnter: combineEventHandlers(_this3.handleItemMouseEnter, null, item.props.onMouseEnter)\n            };\n            formatedItems.push({\n              props: _objectSpread({}, componsedFn(_objectSpread({}, axisObj, {\n                displayedData: displayedData,\n                props: props,\n                dataKey: dataKey,\n                item: item,\n                bandSize: bandSize,\n                barPosition: barPosition,\n                offset: offset,\n                stackedData: stackedData,\n                layout: layout,\n                dataStartIndex: dataStartIndex,\n                dataEndIndex: dataEndIndex\n              }, itemEvents)), (_objectSpread5 = {\n                key: item.key || \"item-\".concat(index)\n              }, _defineProperty(_objectSpread5, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread5, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread5, \"animationId\", updateId), _objectSpread5)),\n              childIndex: parseChildIndex(item, props.children),\n              item: item\n            });\n          }\n        });\n        return formatedItems;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state13 = this.state,\n            activeCoordinate = _this$state13.activeCoordinate,\n            offset = _this$state13.offset,\n            tooltipAxisBandSize = _this$state13.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state14 = this.state,\n            activeCoordinate = _this$state14.activeCoordinate,\n            offset = _this$state14.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"calculateTooltipPos\",\n      value: function calculateTooltipPos(rangeObj) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal') {\n          return rangeObj.x;\n        }\n\n        if (layout === 'vertical') {\n          return rangeObj.y;\n        }\n\n        if (layout === 'centric') {\n          return rangeObj.angle;\n        }\n\n        return rangeObj.radius;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state15 = this.state,\n            angleAxisMap = _this$state15.angleAxisMap,\n            radiusAxisMap = _this$state15.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var tooltipEvents = {};\n\n        if (tooltipItem && eventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        }\n\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread({}, outerEvents, {}, tooltipEvents);\n      }\n      /**\n       * The AxisMaps are expensive to render on large data sets\n       * so provide the ability to store them in state and only update them when necessary\n       * they are dependent upon the start and end index of\n       * the brush so it's important that this method is called _after_\n       * the state is updated with any new start/end indices\n       *\n       * @param {Object} props          The props object to be used for updating the axismaps\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @param {Number} updateId       The update id\n       * @return {Object} state New state to set\n       */\n\n    }, {\n      key: \"updateStateOfAxisMapsOffsetAndStackGroups\",\n      value: function updateStateOfAxisMapsOffsetAndStackGroups(_ref9) {\n        var _this4 = this;\n\n        var props = _ref9.props,\n            dataStartIndex = _ref9.dataStartIndex,\n            dataEndIndex = _ref9.dataEndIndex,\n            updateId = _ref9.updateId;\n\n        if (!validateWidthHeight({\n          props: props\n        })) {\n          return null;\n        }\n\n        var children = props.children,\n            layout = props.layout,\n            stackOffset = props.stackOffset,\n            data = props.data,\n            reverseStackOrder = props.reverseStackOrder;\n\n        var _CategoricalChartWrap2 = CategoricalChartWrapper.getAxisNameByLayout(layout),\n            numericAxisName = _CategoricalChartWrap2.numericAxisName,\n            cateAxisName = _CategoricalChartWrap2.cateAxisName;\n\n        var graphicalItems = findAllByType(children, GraphicalChild);\n        var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n        var axisObj = axisComponents.reduce(function (result, entry) {\n          var name = \"\".concat(entry.axisType, \"Map\");\n          return _objectSpread({}, result, _defineProperty({}, name, _this4.getAxisMap(props, _objectSpread({}, entry, {\n            graphicalItems: graphicalItems,\n            stackGroups: entry.axisType === numericAxisName && stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))));\n        }, {});\n        var offset = this.calculateOffset(_objectSpread({}, axisObj, {\n          props: props,\n          graphicalItems: graphicalItems\n        }));\n        Object.keys(axisObj).forEach(function (key) {\n          axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n        });\n        var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n        var ticksObj = this.tooltipTicksGenerator(cateAxisMap);\n        var formatedGraphicalItems = this.getFormatItems(props, _objectSpread({}, axisObj, {\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex,\n          updateId: updateId,\n          graphicalItems: graphicalItems,\n          stackGroups: stackGroups,\n          offset: offset\n        }));\n        return _objectSpread({\n          formatedGraphicalItems: formatedGraphicalItems,\n          graphicalItems: graphicalItems,\n          offset: offset,\n          stackGroups: stackGroups\n        }, ticksObj, {}, axisObj);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n      /**\n       * Calculate the offset of main part in the svg element\n       * @param  {Object} props          Latest props\n       * @param  {Array}  graphicalItems The instances of item\n       * @param  {Object} xAxisMap       The configuration of x-axis\n       * @param  {Object} yAxisMap       The configuration of y-axis\n       * @return {Object} The offset of main part in the svg element\n       */\n\n    }, {\n      key: \"calculateOffset\",\n      value: function calculateOffset(_ref10) {\n        var props = _ref10.props,\n            graphicalItems = _ref10.graphicalItems,\n            _ref10$xAxisMap = _ref10.xAxisMap,\n            xAxisMap = _ref10$xAxisMap === void 0 ? {} : _ref10$xAxisMap,\n            _ref10$yAxisMap = _ref10.yAxisMap,\n            yAxisMap = _ref10$yAxisMap === void 0 ? {} : _ref10$yAxisMap;\n        var width = props.width,\n            height = props.height,\n            children = props.children;\n        var margin = props.margin || {};\n        var brushItem = findChildByType(children, Brush.displayName);\n        var legendItem = findChildByType(children, Legend.displayName);\n        var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n          var entry = yAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, result[orientation] + entry.width));\n          }\n\n          return result;\n        }, {\n          left: margin.left || 0,\n          right: margin.right || 0\n        });\n        var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n          var entry = xAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n          }\n\n          return result;\n        }, {\n          top: margin.top || 0,\n          bottom: margin.bottom || 0\n        });\n\n        var offset = _objectSpread({}, offsetV, {}, offsetH);\n\n        var brushBottom = offset.bottom;\n\n        if (brushItem) {\n          offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n        }\n\n        if (legendItem && this.legendInstance) {\n          var legendBox = this.legendInstance.getBBox();\n          offset = appendOffsetOfLegend(offset, graphicalItems, props, legendBox);\n        }\n\n        return _objectSpread({\n          brushBottom: brushBottom\n        }, offset, {\n          width: width - offset.left - offset.right,\n          height: height - offset.top - offset.bottom\n        });\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formatedGraphicalItems = this.state.formatedGraphicalItems;\n\n        for (var i = 0, len = formatedGraphicalItems.length; i < len; i++) {\n          var entry = formatedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      value: function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props6 = this.props,\n            width = _this$props6.width,\n            height = _this$props6.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this5 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props7 = this.props,\n            children = _this$props7.children,\n            className = _this$props7.className,\n            width = _this$props7.width,\n            height = _this$props7.height,\n            style = _this$props7.style,\n            compact = _this$props7.compact,\n            others = _objectWithoutProperties(_this$props7, [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\"]);\n\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this5.container = node;\n          }\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }], [{\n      key: \"getAxisNameByLayout\",\n      value: function getAxisNameByLayout(layout) {\n        if (layout === 'horizontal') {\n          return {\n            numericAxisName: 'yAxis',\n            cateAxisName: 'xAxis'\n          };\n        }\n\n        if (layout === 'vertical') {\n          return {\n            numericAxisName: 'xAxis',\n            cateAxisName: 'yAxis'\n          };\n        }\n\n        if (layout === 'centric') {\n          return {\n            numericAxisName: 'radiusAxis',\n            cateAxisName: 'angleAxis'\n          };\n        }\n\n        return {\n          numericAxisName: 'angleAxis',\n          cateAxisName: 'radiusAxis'\n        };\n      }\n    }, {\n      key: \"renderActiveDot\",\n      value: function renderActiveDot(option, props) {\n        var dot;\n\n        if (isValidElement(option)) {\n          dot = cloneElement(option, props);\n        } else if (_isFunction(option)) {\n          dot = option(props);\n        } else {\n          dot = /*#__PURE__*/React.createElement(Dot, props);\n        }\n\n        return /*#__PURE__*/React.createElement(Layer, {\n          className: \"recharts-active-dot\",\n          key: props.key\n        }, dot);\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component), _class.displayName = chartName, _class.defaultProps = _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false\n  }, defaultProps), _class.createDefaultState = function (props) {\n    var children = props.children,\n        defaultShowTooltip = props.defaultShowTooltip;\n    var brushItem = findChildByType(children, Brush.displayName);\n    var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n    var endIndex = brushItem && brushItem.props && brushItem.props.endIndex || props.data && props.data.length - 1 || 0;\n    return {\n      chartX: 0,\n      chartY: 0,\n      dataStartIndex: startIndex,\n      dataEndIndex: endIndex,\n      activeTooltipIndex: -1,\n      isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n    };\n  }, _class.hasBar = function (graphicalItems) {\n    if (!graphicalItems || !graphicalItems.length) {\n      return false;\n    }\n\n    return graphicalItems.some(function (item) {\n      var name = getDisplayName(item && item.type);\n      return name && name.indexOf('Bar') >= 0;\n    });\n  }, _class.getDisplayedData = function (props, _ref11, item) {\n    var graphicalItems = _ref11.graphicalItems,\n        dataStartIndex = _ref11.dataStartIndex,\n        dataEndIndex = _ref11.dataEndIndex;\n    var itemsData = (graphicalItems || []).reduce(function (result, child) {\n      var itemData = child.props.data;\n\n      if (itemData && itemData.length) {\n        return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n      }\n\n      return result;\n    }, []);\n\n    if (itemsData && itemsData.length > 0) {\n      return itemsData;\n    }\n\n    if (item && item.props && item.props.data && item.props.data.length > 0) {\n      return item.props.data;\n    }\n\n    var data = props.data;\n\n    if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n      return data.slice(dataStartIndex, dataEndIndex + 1);\n    }\n\n    return [];\n  }, _temp;\n};\n\nexport default generateCategoricalChart;"]},"metadata":{},"sourceType":"module"}